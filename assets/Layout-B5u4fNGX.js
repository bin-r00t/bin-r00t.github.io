import{r as p,s as zt,a as Pe,b as Ae,p as I,c as Ce,d as mt,e as Ft,u as di,f as Kt,g as ot,h as bt,i as eo,G as no,j as y,k as pi,l as mi,m as so}from"./index-Gi50UJ40.js";function io({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{d:"M12 9a3.75 3.75 0 1 0 0 7.5A3.75 3.75 0 0 0 12 9Z"}),p.createElement("path",{fillRule:"evenodd",d:"M9.344 3.071a49.52 49.52 0 0 1 5.312 0c.967.052 1.83.585 2.332 1.39l.821 1.317c.24.383.645.643 1.11.71.386.054.77.113 1.152.177 1.432.239 2.429 1.493 2.429 2.909V18a3 3 0 0 1-3 3h-15a3 3 0 0 1-3-3V9.574c0-1.416.997-2.67 2.429-2.909.382-.064.766-.123 1.151-.178a1.56 1.56 0 0 0 1.11-.71l.822-1.315a2.942 2.942 0 0 1 2.332-1.39ZM6.75 12.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0Zm12-1.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const ro=p.forwardRef(io);function oo({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{d:"M3.53 2.47a.75.75 0 0 0-1.06 1.06l18 18a.75.75 0 1 0 1.06-1.06l-18-18ZM22.676 12.553a11.249 11.249 0 0 1-2.631 4.31l-3.099-3.099a5.25 5.25 0 0 0-6.71-6.71L7.759 4.577a11.217 11.217 0 0 1 4.242-.827c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113Z"}),p.createElement("path",{d:"M15.75 12c0 .18-.013.357-.037.53l-4.244-4.243A3.75 3.75 0 0 1 15.75 12ZM12.53 15.713l-4.243-4.244a3.75 3.75 0 0 0 4.244 4.243Z"}),p.createElement("path",{d:"M6.75 12c0-.619.107-1.213.304-1.764l-3.1-3.1a11.25 11.25 0 0 0-2.63 4.31c-.12.362-.12.752 0 1.114 1.489 4.467 5.704 7.69 10.675 7.69 1.5 0 2.933-.294 4.242-.827l-2.477-2.477A5.25 5.25 0 0 1 6.75 12Z"}))}const ao=p.forwardRef(oo);function co({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{d:"M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}),p.createElement("path",{fillRule:"evenodd",d:"M1.323 11.447C2.811 6.976 7.028 3.75 12.001 3.75c4.97 0 9.185 3.223 10.675 7.69.12.362.12.752 0 1.113-1.487 4.471-5.705 7.697-10.677 7.697-4.97 0-9.186-3.223-10.675-7.69a1.762 1.762 0 0 1 0-1.113ZM17.25 12a5.25 5.25 0 1 1-10.5 0 5.25 5.25 0 0 1 10.5 0Z",clipRule:"evenodd"}))}const lo=p.forwardRef(co);function uo({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{d:"M8.25 4.5a3.75 3.75 0 1 1 7.5 0v8.25a3.75 3.75 0 1 1-7.5 0V4.5Z"}),p.createElement("path",{d:"M6 10.5a.75.75 0 0 1 .75.75v1.5a5.25 5.25 0 1 0 10.5 0v-1.5a.75.75 0 0 1 1.5 0v1.5a6.751 6.751 0 0 1-6 6.709v2.291h3a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1 0-1.5h3v-2.291a6.751 6.751 0 0 1-6-6.709v-1.5A.75.75 0 0 1 6 10.5Z"}))}const gi=p.forwardRef(uo);function ho({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}const fo=p.forwardRef(ho);function po({title:e,titleId:t,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?p.createElement("title",{id:t},e):null,p.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const mo=p.forwardRef(po),Y=Object.create(null);Y.open="0";Y.close="1";Y.ping="2";Y.pong="3";Y.message="4";Y.upgrade="5";Y.noop="6";const ee=Object.create(null);Object.keys(Y).forEach(e=>{ee[Y[e]]=e});const We={type:"error",data:"parser error"},yi=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",vi=typeof ArrayBuffer=="function",xi=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,hn=({type:e,data:t},n,s)=>yi&&t instanceof Blob?n?s(t):Yn(t,s):vi&&(t instanceof ArrayBuffer||xi(t))?n?s(t):Yn(new Blob([t]),s):s(Y[e]+(t||"")),Yn=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Xn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ee;function go(e,t){if(yi&&e.data instanceof Blob)return e.data.arrayBuffer().then(Xn).then(t);if(vi&&(e.data instanceof ArrayBuffer||xi(e.data)))return t(Xn(e.data));hn(e,!1,n=>{Ee||(Ee=new TextEncoder),t(Ee.encode(n))})}const Zn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Zn.length;e++)kt[Zn.charCodeAt(e)]=e;const yo=e=>{let t=e.length*.75,n=e.length,s,i=0,o,r,a,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const l=new ArrayBuffer(t),u=new Uint8Array(l);for(s=0;s<n;s+=4)o=kt[e.charCodeAt(s)],r=kt[e.charCodeAt(s+1)],a=kt[e.charCodeAt(s+2)],c=kt[e.charCodeAt(s+3)],u[i++]=o<<2|r>>4,u[i++]=(r&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l},vo=typeof ArrayBuffer=="function",fn=(e,t)=>{if(typeof e!="string")return{type:"message",data:bi(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:xo(e.substring(1),t)}:ee[n]?e.length>1?{type:ee[n],data:e.substring(1)}:{type:ee[n]}:We},xo=(e,t)=>{if(vo){const n=yo(e);return bi(n,t)}else return{base64:!0,data:e}},bi=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},wi="",bo=(e,t)=>{const n=e.length,s=new Array(n);let i=0;e.forEach((o,r)=>{hn(o,!1,a=>{s[r]=a,++i===n&&t(s.join(wi))})})},wo=(e,t)=>{const n=e.split(wi),s=[];for(let i=0;i<n.length;i++){const o=fn(n[i],t);if(s.push(o),o.type==="error")break}return s};function To(){return new TransformStream({transform(e,t){go(e,n=>{const s=n.length;let i;if(s<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,s);else if(s<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,s)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Re;function Gt(e){return e.reduce((t,n)=>t+n.length,0)}function Yt(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let i=0;i<t;i++)n[i]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function So(e,t){Re||(Re=new TextDecoder);const n=[];let s=0,i=-1,o=!1;return new TransformStream({transform(r,a){for(n.push(r);;){if(s===0){if(Gt(n)<1)break;const c=Yt(n,1);o=(c[0]&128)===128,i=c[0]&127,i<126?s=3:i===126?s=1:s=2}else if(s===1){if(Gt(n)<2)break;const c=Yt(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),s=3}else if(s===2){if(Gt(n)<8)break;const c=Yt(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(We);break}i=u*Math.pow(2,32)+l.getUint32(4),s=3}else{if(Gt(n)<i)break;const c=Yt(n,i);a.enqueue(fn(o?c:Re.decode(c),t)),s=0}if(i===0||i>e){a.enqueue(We);break}}}})}const Ti=4;function M(e){if(e)return Po(e)}function Po(e){for(var t in M.prototype)e[t]=M.prototype[t];return e}M.prototype.on=M.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};M.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};M.prototype.off=M.prototype.removeListener=M.prototype.removeAllListeners=M.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===t||s.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};M.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,i=n.length;s<i;++s)n[s].apply(this,t)}return this};M.prototype.emitReserved=M.prototype.emit;M.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};M.prototype.hasListeners=function(e){return!!this.listeners(e).length};const q=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Si(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const Ao=q.setTimeout,Co=q.clearTimeout;function pe(e,t){t.useNativeTimers?(e.setTimeoutFn=Ao.bind(q),e.clearTimeoutFn=Co.bind(q)):(e.setTimeoutFn=q.setTimeout.bind(q),e.clearTimeoutFn=q.clearTimeout.bind(q))}const Eo=1.33;function Ro(e){return typeof e=="string"?Vo(e):Math.ceil((e.byteLength||e.size)*Eo)}function Vo(e){let t=0,n=0;for(let s=0,i=e.length;s<i;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function ko(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Do(e){let t={},n=e.split("&");for(let s=0,i=n.length;s<i;s++){let o=n[s].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class Mo extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class dn extends M{constructor(t){super(),this.writable=!1,pe(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,s){return super.emitReserved("error",new Mo(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=fn(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=ko(t);return n.length?"?"+n:""}}const Pi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qe=64,Lo={};let Jn=0,Xt=0,Qn;function ts(e){let t="";do t=Pi[e%qe]+t,e=Math.floor(e/qe);while(e>0);return t}function Ai(){const e=ts(+new Date);return e!==Qn?(Jn=0,Qn=e):e+"."+ts(Jn++)}for(;Xt<qe;Xt++)Lo[Pi[Xt]]=Xt;let Ci=!1;try{Ci=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Oo=Ci;function Ei(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Oo))return new XMLHttpRequest}catch{}if(!t)try{return new q[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Bo(){}const Fo=function(){return new Ei({xdomain:!1}).responseType!=null}();class jo extends dn{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const s=location.protocol==="https:";let i=location.port;i||(i=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Fo&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let s=0;this.polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};wo(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,bo(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Ai()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new z(this.uri(),t)}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class z extends M{constructor(t,n){super(),pe(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=Si(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const s=this.xhr=new Ei(n);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&s.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var i;s.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(s)),s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=z.requestsCount++,z.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Bo,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete z.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}z.requestsCount=0;z.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",es);else if(typeof addEventListener=="function"){const e="onpagehide"in q?"pagehide":"unload";addEventListener(e,es,!1)}}function es(){for(let e in z.requests)z.requests.hasOwnProperty(e)&&z.requests[e].abort()}const pn=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Zt=q.WebSocket||q.MozWebSocket,ns=!0,_o="arraybuffer",ss=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class No extends dn{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,s=ss?{}:Si(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=ns&&!ss?n?new Zt(t,n):new Zt(t):new Zt(t,n,s)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],i=n===t.length-1;hn(s,this.supportsBinary,o=>{const r={};try{ns&&this.ws.send(o)}catch{}i&&pn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Ai()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Zt}}class Io extends dn{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=So(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),i=To();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{s.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();const r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this.writer.write(r).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],i=n===t.length-1;this.writer.write(s).then(()=>{i&&pn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Uo={websocket:No,webtransport:Io,polling:jo},Ko=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function $e(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let i=Ko.exec(e||""),o={},r=14;for(;r--;)o[Wo[r]]=i[r]||"";return n!=-1&&s!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=qo(o,o.path),o.queryKey=$o(o,o.query),o}function qo(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function $o(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,i,o){i&&(n[i]=o)}),n}let Ri=class xt extends M{constructor(t,n={}){super(),this.binaryType=_o,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=$e(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=$e(n.host).host),pe(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Do(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Ti,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Uo[t](s)}open(){let t;if(this.opts.rememberUpgrade&&xt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),s=!1;xt.priorWebsocketSuccess=!1;const i=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!s)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;xt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function o(){s||(s=!0,u(),n.close(),n=null)}const r=h=>{const f=new Error("probe error: "+h);f.transport=n.name,o(),this.emitReserved("upgradeError",f)};function a(){r("transport closed")}function c(){r("socket closed")}function l(h){n&&h.name!==n.name&&o()}const u=()=>{n.removeListener("open",i),n.removeListener("error",r),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",r),n.once("close",a),this.once("close",c),this.once("upgrading",l),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onOpen(){if(this.readyState="open",xt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const i=this.writeBuffer[s].data;if(i&&(n+=Ro(i)),s>0&&n>this.maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}write(t,n,s){return this.sendPacket("message",t,n,s),this}send(t,n,s){return this.sendPacket("message",t,n,s),this}sendPacket(t,n,s,i){if(typeof n=="function"&&(i=n,n=void 0),typeof s=="function"&&(i=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const o={type:t,data:n,options:s};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){xt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let s=0;const i=t.length;for(;s<i;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}};Ri.protocol=Ti;function Ho(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=$e(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const o=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+o+":"+s.port+t,s.href=s.protocol+"://"+o+(n&&n.port===s.port?"":":"+s.port),s}const zo=typeof ArrayBuffer=="function",Go=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Vi=Object.prototype.toString,Yo=typeof Blob=="function"||typeof Blob<"u"&&Vi.call(Blob)==="[object BlobConstructor]",Xo=typeof File=="function"||typeof File<"u"&&Vi.call(File)==="[object FileConstructor]";function mn(e){return zo&&(e instanceof ArrayBuffer||Go(e))||Yo&&e instanceof Blob||Xo&&e instanceof File}function ne(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(ne(e[n]))return!0;return!1}if(mn(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return ne(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ne(e[n]))return!0;return!1}function Zo(e){const t=[],n=e.data,s=e;return s.data=He(n,t),s.attachments=t.length,{packet:s,buffers:t}}function He(e,t){if(!e)return e;if(mn(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=He(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=He(e[s],t));return n}return e}function Jo(e,t){return e.data=ze(e.data,t),delete e.attachments,e}function ze(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ze(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ze(e[n],t));return e}const Qo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ta=5;var A;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(A||(A={}));class ea{constructor(t){this.replacer=t}encode(t){return(t.type===A.EVENT||t.type===A.ACK)&&ne(t)?this.encodeAsBinary({type:t.type===A.EVENT?A.BINARY_EVENT:A.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===A.BINARY_EVENT||t.type===A.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Zo(t),s=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(s),i}}function is(e){return Object.prototype.toString.call(e)==="[object Object]"}class gn extends M{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===A.BINARY_EVENT;s||n.type===A.BINARY_ACK?(n.type=s?A.EVENT:A.ACK,this.reconstructor=new na(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(mn(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(A[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===A.BINARY_EVENT||s.type===A.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const r=t.substring(o,n);if(r!=Number(r)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(r)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(o,n)}else s.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const r=t.charAt(n);if(r==null||Number(r)!=r){--n;break}if(n===t.length)break}s.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(gn.isPayloadValid(s.type,o))s.data=o;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case A.CONNECT:return is(n);case A.DISCONNECT:return n===void 0;case A.CONNECT_ERROR:return typeof n=="string"||is(n);case A.EVENT:case A.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Qo.indexOf(n[0])===-1);case A.ACK:case A.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class na{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Jo(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sa=Object.freeze(Object.defineProperty({__proto__:null,Decoder:gn,Encoder:ea,get PacketType(){return A},protocol:ta},Symbol.toStringTag,{value:"Module"}));function $(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ia=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ki extends M{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$(t,"open",this.onopen.bind(this)),$(t,"packet",this.onpacket.bind(this)),$(t,"error",this.onerror.bind(this)),$(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(ia.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:A.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const r=this.ids++,a=n.pop();this._registerAckCallback(r,a),s.id=r}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(t,n){var s;const i=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),r=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...n){return new Promise((s,i)=>{const o=(r,a)=>r?i(r):s(a);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>s!==this._queue[0]?void 0:(i!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:A.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case A.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case A.EVENT:case A.BINARY_EVENT:this.onevent(t);break;case A.ACK:case A.BINARY_ACK:this.onack(t);break;case A.DISCONNECT:this.ondisconnect();break;case A.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...i){s||(s=!0,n.packet({type:A.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:A.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Ct(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ct.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ct.prototype.reset=function(){this.attempts=0};Ct.prototype.setMin=function(e){this.ms=e};Ct.prototype.setMax=function(e){this.max=e};Ct.prototype.setJitter=function(e){this.jitter=e};class Ge extends M{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,pe(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ct({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||sa;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ri(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const i=$(n,"open",function(){s.onopen(),t&&t()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},r=$(n,"error",o);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($(t,"ping",this.onping.bind(this)),$(t,"data",this.ondata.bind(this)),$(t,"error",this.onerror.bind(this)),$(t,"close",this.onclose.bind(this)),$(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){pn(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new ki(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Rt={};function se(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Ho(e,t.path||"/socket.io"),s=n.source,i=n.id,o=n.path,r=Rt[i]&&o in Rt[i].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||r;let c;return a?c=new Ge(s,t):(Rt[i]||(Rt[i]=new Ge(s,t)),c=Rt[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(se,{Manager:Ge,Socket:ki,io:se,connect:se});let D=null;const ra=(e,{token:t},n)=>{if(D)return D;D=se(e,{auth:{roomId:t}}),D.on("connect",oa),D.on("disconnect",aa),D.on("error",ca),D.on("waiting",la),D.on("negotiation::start",()=>{console.log("[negotiation::start] set role to 'initiator'"),n(zt("initiator"))}),D.on("offer",s=>{n(Pe(s)),n(zt("participant"))}),D.on("answer",s=>{n(Ae(s))}),D.on("candidate",s=>{I.addIceCandidate(s),console.log("[socket.js] 接收对方的 candidate ---> ",s)}),D.on("users",s=>{console.log("[socket.js] users",s),n(Ce(s))}),D.on("user::leave",s=>{console.log("A user left",s),n(Ce([])),n(zt("")),n(Pe(null)),n(Ae(null)),n(mt({key:"remoteStream",value:!1})),Ft("remote",new MediaStream)}),D.on("close-communication",()=>{n(Ce([])),n(zt("")),n(Pe(null)),n(Ae(null)),n(mt({key:"remoteStream",value:!1})),Ft("remote",new MediaStream),window.history.back(0)}),n(mt({key:"socket",value:!0}))};function oa(){console.log("connected")}function aa(){console.log("disconnect")}function ca(e){console.error("Error",e)}function la(){console.log("waiting for participant(s)")}function ua(e,t){const{roomId:n}=di(),s=Kt(),{role:i,offer:o,answer:r}=ot(h=>h.media),{localStream:a,remoteStream:c,peerConnection:l,socket:u}=ot(h=>h.media.flag);p.useEffect(()=>{if(a){const h=bt("local");h&&(e.current.srcObject=h,l&&(h.getTracks().forEach(f=>{console.log("[VideoWrapper] add track to peer connection"),I.addTrack(f,h)}),I.getSenders().forEach(f=>{const d=f.getParameters();f.track&&f.track.kind=="audio"&&(d.encodings[0].priority="high",d.encodings[0].maxBitrate=2e4,d.encodings[0].networkPriority="high",f.setParameters(d)),console.log("[useMedia] sender parameters",f.track,f.getParameters())}),console.log("[useMedia] init socket...","https://118.31.65.152:8000"),ra("https://118.31.65.152:8000",{token:n},s)))}},[a,l,n]),p.useEffect(()=>{l&&u&&i!=""&&(console.log("[VideoWrapper] 注册 candidate 事件"),I.onicecandidate=function(h){h.candidate&&(i=="initiator"?(console.log("[VideoWrapper] 发送者自己的 iceCandidate  --> 发出 -->",h.candidate),D.emit("candidate::initiator",h.candidate)):i=="participant"&&(console.log("[VideoWrapper] 接收者自己的 iceCandidate  --> 发出 -->"),D.emit("candidate::participant",h.candidate)))},I.ontrack=function(h){const f=bt("remote");console.log("[VideoWrapper] on track...",h,i,f),h.streams[0].getTracks().forEach(d=>{f.addTrack(d,f)}),s(mt({key:"remoteStream",value:!0}))},i=="initiator"&&s(eo()))},[l,u,i]),p.useEffect(()=>{o&&(i=="initiator"&&D.emit("offer",o),i=="participant"&&function(){I.setRemoteDescription(o),I.createAnswer().then(h=>{console.log("[VideoWrapper] create answer...",h),I.setLocalDescription(h),D.emit("answer",h)})}())},[i,o]),p.useEffect(()=>{r&&(console.log("[VideoWrapper] set remote description..."),I.setRemoteDescription(r))},[r]),p.useEffect(()=>{c&&(console.log("[VideoWrapper] remoteStreamIsReady...",c,bt("remote")),t.current.srcObject=bt("remote"))},[c])}function ha({}){const{localStream:e,remoteStream:t}=ot(r=>r.media.flag),n=p.useRef(!0),{localVideoRef:s,remoteVideoRef:i}=p.useContext(no);ua(s,i);function o(){const r=bt("local"),a=bt("remote");if(!n.current){n.current=!0,s.current.srcObject=r,i.current&&(i.current.srcObject=a);return}t&&(s.current.srcObject=a,i.current&&(i.current.srcObject=r),n.current=!1)}return y.jsxs("section",{className:"main-area relative h-screen overflow-hidden md:flex-1 md:flex md:justify-center md:items-center md:gap-10 ",children:[y.jsxs("div",{className:"bg-black absolute top-6 right-6 border border-white w-[180px] md:w-[240px] z-10 overflow-hidden",onClick:o,children:[e&&y.jsx(y.Fragment,{children:y.jsx("video",{id:"self-video",autoPlay:!0,ref:s,className:"bg-gray-800 w-full"})}),!e&&y.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-700 p-2 px-8 text-white text-gl animate-pulse",children:"加载中..."})]}),y.jsxs("div",{className:"bg-black relative h-full",children:[t&&y.jsx("video",{id:"remote-video",ref:i,autoPlay:!0,className:"bg-gray-800 h-screen object-cover"}),!t&&y.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-gray-700 p-2 px-8 text-white text-lg md:text-nowrap animate-pulse",children:"加载中..."})]})]})}function fa(){const{roomId:e}=di();return y.jsx("div",{className:"tool-bar absolute hidden flex gap-8 items-center",children:y.jsxs("h1",{className:"p-5 rounded flex gap-5 text-gray-400",children:[y.jsx("strong",{children:"当前房间: "}),y.jsx("span",{children:e})]})})}function da({devices:e}){const t=Kt(),{input:n,output:s}=e,[i,o]=p.useState(!1),{audioInputDeviceId:r,audioOutputDeviceId:a}=ot(h=>h.media);function c(){console.log("start/stop audio")}function l(h){const f=h.target.value;console.log("audio deviceId",f),o(!1),t(pi({type:"audio:input",value:f}))}function u(){o(h=>!h)}return y.jsxs("div",{className:"audio-selector relative",children:[y.jsx("button",{className:"w-6 h-6 absolute top-0 right-0 leading-none text-sm text-white",onClick:u,children:"▼"}),y.jsxs("button",{className:"p-2 flex flex-col gap-1 border rounded items-center",onClick:c,children:[y.jsx(gi,{className:"h-8 w-8 text-white"}),y.jsx("span",{className:"text-gray-400 text-xs",children:"Start Audio"})]}),i&&y.jsxs("select",{name:"audio",id:"video-devices",onChange:l,defaultValue:r,className:"absolute -top-6 right-0 translate-x-full",children:[y.jsx("optgroup",{label:"Input Devices",children:n.map(h=>y.jsx("option",{value:h.deviceId,children:h.label},h.deviceId))}),y.jsx("optgroup",{label:"Output Devices",children:s.map(h=>y.jsx("option",{value:h.deviceId,children:h.label},h.deviceId))})]})]})}function pa({devices:e}){const t=Kt(),[n,s]=p.useState(!1),{videoDeviceId:i}=ot(c=>c.media);function o(c){console.log("start/stop video");const l=c.target.value;s(!1),t(pi({type:"video",value:l}))}function r(){console.log("start/stop video")}function a(){s(c=>!c)}return y.jsxs("div",{className:"video-selector relative",children:[y.jsx("button",{className:"w-6 h-6 absolute top-0 right-0 leading-none text-sm text-white",onClick:a,children:"▼"}),y.jsxs("button",{className:"p-2 flex flex-col gap-1 border rounded items-center",onClick:r,children:[y.jsx(ro,{className:"h-8 w-8 text-white"}),y.jsx("span",{className:"text-gray-400 text-xs",children:"Start Video"})]}),n&&y.jsx("select",{name:"video",id:"video-devices",defaultValue:i,onChange:o,className:"absolute -top-6 right-0 translate-x-full",children:e.map(c=>y.jsx("option",{value:c.deviceId,children:c.label},c.deviceId))})]})}function ma(){const[e,t]=p.useState([]),[n,s]=p.useState([]),[i,o]=p.useState([]);return p.useEffect(()=>{async function r(){console.log("[Device Selector] 初始化设备...");const{audio:a,video:c,audioOutput:l}=await ga();s(a),t(c),o(l)}r()},[]),y.jsxs(y.Fragment,{children:[y.jsx(da,{devices:{input:n,output:i}}),y.jsx(pa,{devices:e})]})}async function ga(){const e=await navigator.mediaDevices.enumerateDevices();return console.log("devices",e),{audio:e.filter(t=>t.kind==="audioinput"),audioOutput:e.filter(t=>t.kind==="audiooutput"),video:e.filter(t=>t.kind==="videoinput")}}function ya(e,t){let n=I.getSenders().find(s=>s.track.kind==="video").track;e?n.enabled=!1:n.enabled=!0,t(s=>!s)}function va(e,t){let n=I.getSenders().find(s=>s.track.kind==="audio").track;e?n.enabled=!0:n.enabled=!1,t(s=>!s)}function xa(){const[e,t]=p.useState(!0),[n,s]=p.useState(!1),i=Kt(),o=ot(a=>a.media.role);function r(){i(mt({key:"remoteStream",value:!1})),I.close(),I.onicecandidate=null,I.oniceconnectionstatechange=null,I.onaddstream=null,mi(null),Ft("remote",null),D.emit("close-communication",o)}return y.jsxs("div",{className:"btn-group absolute bottom-0 py-10 w-full bg-white bg-opacity-10",children:[y.jsx("section",{className:"hidden gap-3 md:hidden lg:hidden items-center text-black",children:y.jsx(ma,{})}),y.jsxs("section",{className:"flex gap-5 items-center justify-center",children:[y.jsx("button",{onClick:()=>ya(e,t),className:"camera h-20 w-20 shadow-md rounded-full bg-black bg-opacity-30 grid place-content-center transition hover:scale-110",children:e?y.jsx(ao,{className:"h-8 w-8"}):y.jsx(lo,{className:"h-8 w-8"})}),y.jsx("button",{onClick:r,className:"stop h-20 w-20 shadow-md rounded-full bg-red-500 grid place-content-center transition hover:scale-110",children:y.jsx(mo,{className:"h-8 w-8"})}),y.jsx("button",{onClick:()=>va(n,s),className:"mute h-20 w-20 shadow-md rounded-full bg-black bg-opacity-30 grid place-content-center transition hover:scale-110",children:n?y.jsx(gi,{className:"h-8 w-8"}):y.jsx(fo,{className:"h-8 w-8"})})]}),y.jsx("section",{className:"hidden",children:y.jsx("button",{className:"exit h-16 px-8 rounded-md transition hover:bg-red-800 bg-red-500 text-white",children:"Hang Up"})})]})}function ba(){const e=ot(t=>t.media.users);return y.jsxs("div",{className:"aboslute-list hidden fixed top-1/3 min-w-24 right-8 bg-white border text-xs text-gray-500",children:[y.jsx("h1",{className:"border-b p-2",children:"当前在线成员"}),!e&&y.jsx("p",{className:"p-2",children:"暂无其他成员"}),e&&e.length&&y.jsx("ul",{className:"p-2 flex flex-col gap-1",children:e.map(t=>y.jsxs("li",{className:"cursor-pointer hover:text-black",children:[t.name," ",t.id===D.id?"(我)":""]},t.id))})]})}const yn=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),me=p.createContext({}),ge=p.createContext(null),vn=typeof document<"u",xn=vn?p.useLayoutEffect:p.useEffect,Di=p.createContext({strict:!1}),bn=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wa="framerAppearId",Mi="data-"+bn(wa),Ta={skipAnimations:!1,useManualTiming:!1};class rs{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Sa(e){let t=new rs,n=new rs,s=0,i=!1,o=!1;const r=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const h=u&&i,f=h?t:n;return l&&r.add(c),f.add(c)&&h&&i&&(s=t.order.length),c},cancel:c=>{n.remove(c),r.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let l=0;l<s;l++){const u=t.order[l];r.has(u)&&(a.schedule(u),e()),u(c)}i=!1,o&&(o=!1,a.process(c))}};return a}const Jt=["read","resolveKeyframes","update","preRender","render","postRender"],Pa=40;function Li(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Jt.reduce((h,f)=>(h[f]=Sa(()=>n=!0),h),{}),r=h=>{o[h].process(i)},a=()=>{const h=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(h-i.timestamp,Pa),1),i.timestamp=h,i.isProcessing=!0,Jt.forEach(r),i.isProcessing=!1,n&&t&&(s=!1,e(a))},c=()=>{n=!0,s=!0,i.isProcessing||e(a)};return{schedule:Jt.reduce((h,f)=>{const d=o[f];return h[f]=(m,g=!1,b=!1)=>(n||c(),d.schedule(m,g,b)),h},{}),cancel:h=>Jt.forEach(f=>o[f].cancel(h)),state:i,steps:o}}const{schedule:wn,cancel:$h}=Li(queueMicrotask,!1);function Aa(e,t,n,s){const{visualElement:i}=p.useContext(me),o=p.useContext(Di),r=p.useContext(ge),a=p.useContext(yn).reducedMotion,c=p.useRef();s=s||o.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:i,props:n,presenceContext:r,blockInitialAnimation:r?r.initial===!1:!1,reducedMotionConfig:a}));const l=c.current;p.useInsertionEffect(()=>{l&&l.update(n,r)});const u=p.useRef(!!(n[Mi]&&!window.HandoffComplete));return xn(()=>{l&&(wn.render(l.render),u.current&&l.animationState&&l.animationState.animateChanges())}),p.useEffect(()=>{l&&(l.updateFeatures(),!u.current&&l.animationState&&l.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),l}function wt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ca(e,t,n){return p.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):wt(n)&&(n.current=s))},[t])}function jt(e){return typeof e=="string"||Array.isArray(e)}function ye(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Tn=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sn=["initial",...Tn];function ve(e){return ye(e.animate)||Sn.some(t=>jt(e[t]))}function Oi(e){return!!(ve(e)||e.variants)}function Ea(e,t){if(ve(e)){const{initial:n,animate:s}=e;return{initial:n===!1||jt(n)?n:void 0,animate:jt(s)?s:void 0}}return e.inherit!==!1?t:{}}function Ra(e){const{initial:t,animate:n}=Ea(e,p.useContext(me));return p.useMemo(()=>({initial:t,animate:n}),[os(t),os(n)])}function os(e){return Array.isArray(e)?e.join(" "):e}const as={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_t={};for(const e in as)_t[e]={isEnabled:t=>as[e].some(n=>!!t[n])};function Va(e){for(const t in e)_t[t]={..._t[t],...e[t]}}const Pn=p.createContext({}),Bi=p.createContext({}),ka=Symbol.for("motionComponentSymbol");function Da({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&Va(e);function o(a,c){let l;const u={...p.useContext(yn),...a,layoutId:Ma(a)},{isStatic:h}=u,f=Ra(a),d=s(a,h);if(!h&&vn){f.visualElement=Aa(i,d,u,t);const m=p.useContext(Bi),g=p.useContext(Di).strict;f.visualElement&&(l=f.visualElement.loadFeatures(u,g,e,m))}return y.jsxs(me.Provider,{value:f,children:[l&&f.visualElement?y.jsx(l,{visualElement:f.visualElement,...u}):null,n(i,a,Ca(d,f.visualElement,c),d,h,f.visualElement)]})}const r=p.forwardRef(o);return r[ka]=i,r}function Ma({layoutId:e}){const t=p.useContext(Pn).id;return t&&e!==void 0?t+"-"+e:e}function La(e){function t(s,i={}){return Da(e(s,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const Oa=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function An(e){return typeof e!="string"||e.includes("-")?!1:!!(Oa.indexOf(e)>-1||/[A-Z]/u.test(e))}const ae={};function Ba(e){Object.assign(ae,e)}const Wt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yt=new Set(Wt);function Fi(e,{layout:t,layoutId:n}){return yt.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ae[e]||e==="opacity")}const F=e=>!!(e&&e.getVelocity),Fa={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ja=Wt.length;function _a(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,i){let o="";for(let r=0;r<ja;r++){const a=Wt[r];if(e[a]!==void 0){const c=Fa[a]||a;o+=`${c}(${e[a]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,s?"":o):n&&s&&(o="none"),o}const ji=e=>t=>typeof t=="string"&&t.startsWith(e),_i=ji("--"),Na=ji("var(--"),Cn=e=>Na(e)?Ia.test(e.split("/*")[0].trim()):!1,Ia=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ua=(e,t)=>t&&typeof e=="number"?t.transform(e):e,at=(e,t,n)=>n>t?t:n<e?e:n,Et={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mt={...Et,transform:e=>at(0,1,e)},Qt={...Et,default:1},Lt=e=>Math.round(e*1e5)/1e5,En=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Ka=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Wa=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function qt(e){return typeof e=="string"}const $t=e=>({test:t=>qt(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nt=$t("deg"),G=$t("%"),T=$t("px"),qa=$t("vh"),$a=$t("vw"),cs={...G,parse:e=>G.parse(e)/100,transform:e=>G.transform(e*100)},ls={...Et,transform:Math.round},Ni={borderWidth:T,borderTopWidth:T,borderRightWidth:T,borderBottomWidth:T,borderLeftWidth:T,borderRadius:T,radius:T,borderTopLeftRadius:T,borderTopRightRadius:T,borderBottomRightRadius:T,borderBottomLeftRadius:T,width:T,maxWidth:T,height:T,maxHeight:T,size:T,top:T,right:T,bottom:T,left:T,padding:T,paddingTop:T,paddingRight:T,paddingBottom:T,paddingLeft:T,margin:T,marginTop:T,marginRight:T,marginBottom:T,marginLeft:T,rotate:nt,rotateX:nt,rotateY:nt,rotateZ:nt,scale:Qt,scaleX:Qt,scaleY:Qt,scaleZ:Qt,skew:nt,skewX:nt,skewY:nt,distance:T,translateX:T,translateY:T,translateZ:T,x:T,y:T,z:T,perspective:T,transformPerspective:T,opacity:Mt,originX:cs,originY:cs,originZ:T,zIndex:ls,backgroundPositionX:T,backgroundPositionY:T,fillOpacity:Mt,strokeOpacity:Mt,numOctaves:ls};function Rn(e,t,n,s){const{style:i,vars:o,transform:r,transformOrigin:a}=e;let c=!1,l=!1,u=!0;for(const h in t){const f=t[h];if(_i(h)){o[h]=f;continue}const d=Ni[h],m=Ua(f,d);if(yt.has(h)){if(c=!0,r[h]=m,!u)continue;f!==(d.default||0)&&(u=!1)}else h.startsWith("origin")?(l=!0,a[h]=m):i[h]=m}if(t.transform||(c||s?i.transform=_a(e.transform,n,u,s):i.transform&&(i.transform="none")),l){const{originX:h="50%",originY:f="50%",originZ:d=0}=a;i.transformOrigin=`${h} ${f} ${d}`}}const Vn=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ii(e,t,n){for(const s in t)!F(t[s])&&!Fi(s,n)&&(e[s]=t[s])}function Ha({transformTemplate:e},t,n){return p.useMemo(()=>{const s=Vn();return Rn(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function za(e,t,n){const s=e.style||{},i={};return Ii(i,s,e),Object.assign(i,Ha(e,t,n)),i}function Ga(e,t,n){const s={},i=za(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const Ya=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ce(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ya.has(e)}let Ui=e=>!ce(e);function Xa(e){e&&(Ui=t=>t.startsWith("on")?!ce(t):e(t))}try{Xa(require("@emotion/is-prop-valid").default)}catch{}function Za(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Ui(i)||n===!0&&ce(i)||!t&&!ce(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function us(e,t,n){return typeof e=="string"?e:T.transform(t+n*e)}function Ja(e,t,n){const s=us(t,e.x,e.width),i=us(n,e.y,e.height);return`${s} ${i}`}const Qa={offset:"stroke-dashoffset",array:"stroke-dasharray"},tc={offset:"strokeDashoffset",array:"strokeDasharray"};function ec(e,t,n=1,s=0,i=!0){e.pathLength=1;const o=i?Qa:tc;e[o.offset]=T.transform(-s);const r=T.transform(t),a=T.transform(n);e[o.array]=`${r} ${a}`}function kn(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:o,pathLength:r,pathSpacing:a=1,pathOffset:c=0,...l},u,h,f){if(Rn(e,l,u,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:m,dimensions:g}=e;d.transform&&(g&&(m.transform=d.transform),delete d.transform),g&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=Ja(g,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),r!==void 0&&ec(d,r,a,c,!1)}const Ki=()=>({...Vn(),attrs:{}}),Dn=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nc(e,t,n,s){const i=p.useMemo(()=>{const o=Ki();return kn(o,t,{enableHardwareAcceleration:!1},Dn(s),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Ii(o,e.style,e),i.style={...o,...i.style}}return i}function sc(e=!1){return(n,s,i,{latestValues:o},r)=>{const c=(An(n)?nc:Ga)(s,o,r,n),l=Za(s,typeof n=="string",e),u=n!==p.Fragment?{...l,...c,ref:i}:{},{children:h}=s,f=p.useMemo(()=>F(h)?h.get():h,[h]);return p.createElement(n,{...u,children:f})}}function Wi(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const o in n)e.style.setProperty(o,n[o])}const qi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $i(e,t,n,s){Wi(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(qi.has(i)?i:bn(i),t.attrs[i])}function Mn(e,t,n){var s;const{style:i}=e,o={};for(const r in i)(F(i[r])||t.style&&F(t.style[r])||Fi(r,e)||((s=n==null?void 0:n.getValue(r))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(o[r]=i[r]);return o}function Hi(e,t,n){const s=Mn(e,t,n);for(const i in e)if(F(e[i])||F(t[i])){const o=Wt.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[o]=e[i]}return s}function hs(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Ln(e,t,n,s){if(typeof t=="function"){const[i,o]=hs(s);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=hs(s);t=t(n!==void 0?n:e.custom,i,o)}return t}function zi(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ye=e=>Array.isArray(e),ic=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),rc=e=>Ye(e)?e[e.length-1]||0:e;function ie(e){const t=F(e)?e.get():e;return ic(t)?t.toValue():t}function oc({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,i,o){const r={latestValues:ac(s,i,o,e),renderState:t()};return n&&(r.mount=a=>n(s,a,r)),r}const Gi=e=>(t,n)=>{const s=p.useContext(me),i=p.useContext(ge),o=()=>oc(e,t,s,i);return n?o():zi(o)};function ac(e,t,n,s){const i={},o=s(e,{});for(const f in o)i[f]=ie(o[f]);let{initial:r,animate:a}=e;const c=ve(e),l=Oi(e);t&&l&&!c&&e.inherit!==!1&&(r===void 0&&(r=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const h=u?a:r;return h&&typeof h!="boolean"&&!ye(h)&&(Array.isArray(h)?h:[h]).forEach(d=>{const m=Ln(e,d);if(!m)return;const{transitionEnd:g,transition:b,...w}=m;for(const x in w){let v=w[x];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(i[x]=v)}for(const x in g)i[x]=g[x]}),i}const j=e=>e,{schedule:E,cancel:et,state:O,steps:Ve}=Li(typeof requestAnimationFrame<"u"?requestAnimationFrame:j,!0),cc={useVisualState:Gi({scrapeMotionValuesFromProps:Hi,createRenderState:Ki,onMount:(e,t,{renderState:n,latestValues:s})=>{E.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),E.render(()=>{kn(n,s,{enableHardwareAcceleration:!1},Dn(t.tagName),e.transformTemplate),$i(t,n)})}})},lc={useVisualState:Gi({scrapeMotionValuesFromProps:Mn,createRenderState:Vn})};function uc(e,{forwardMotionProps:t=!1},n,s){return{...An(e)?cc:lc,preloadedFeatures:n,useRender:sc(t),createVisualElement:s,Component:e}}function Z(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const Yi=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function xe(e,t="page"){return{point:{x:e[`${t}X`],y:e[`${t}Y`]}}}const hc=e=>t=>Yi(t)&&e(t,xe(t));function J(e,t,n,s){return Z(e,t,hc(n),s)}const fc=(e,t)=>n=>t(e(n)),Q=(...e)=>e.reduce(fc);function Xi(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const fs=Xi("dragHorizontal"),ds=Xi("dragVertical");function Zi(e){let t=!1;if(e==="y")t=ds();else if(e==="x")t=fs();else{const n=fs(),s=ds();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function Ji(){const e=Zi(!0);return e?(e(),!1):!0}class lt{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ps(e,t){const n=t?"pointerenter":"pointerleave",s=t?"onHoverStart":"onHoverEnd",i=(o,r)=>{if(o.pointerType==="touch"||Ji())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t);const c=a[s];c&&E.postRender(()=>c(o,r))};return J(e.current,n,i,{passive:!e.getProps()[s]})}class dc extends lt{mount(){this.unmount=Q(ps(this.node,!0),ps(this.node,!1))}unmount(){}}class pc extends lt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Q(Z(this.node.current,"focus",()=>this.onFocus()),Z(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Qi=(e,t)=>t?e===t?!0:Qi(e,t.parentElement):!1;function ke(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,xe(n))}class mc extends lt{constructor(){super(...arguments),this.removeStartListeners=j,this.removeEndListeners=j,this.removeAccessibleListeners=j,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),o=J(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:h}=this.node.getProps(),f=!h&&!Qi(this.node.current,a.target)?u:l;f&&E.update(()=>f(a,c))},{passive:!(s.onTap||s.onPointerUp)}),r=J(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Q(o,r),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const r=a=>{a.key!=="Enter"||!this.checkPressEnd()||ke("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&E.postRender(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=Z(this.node.current,"keyup",r),ke("down",(a,c)=>{this.startPress(a,c)})},n=Z(this.node.current,"keydown",t),s=()=>{this.isPressing&&ke("cancel",(o,r)=>this.cancelPress(o,r))},i=Z(this.node.current,"blur",s);this.removeAccessibleListeners=Q(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&E.postRender(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Ji()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&E.postRender(()=>s(t,n))}mount(){const t=this.node.getProps(),n=J(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Z(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Q(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Xe=new WeakMap,De=new WeakMap,gc=e=>{const t=Xe.get(e.target);t&&t(e)},yc=e=>{e.forEach(gc)};function vc({root:e,...t}){const n=e||document;De.has(n)||De.set(n,{});const s=De.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(yc,{root:e,...t})),s[i]}function xc(e,t,n){const s=vc(t);return Xe.set(e,n),s.observe(e),()=>{Xe.delete(e),s.unobserve(e)}}const bc={some:0,all:1};class wc extends lt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:o}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:bc[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=l?u:h;f&&f(c)};return xc(this.node.current,r,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Tc(t,n))&&this.startObserver()}unmount(){}}function Tc({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Sc={inView:{Feature:wc},tap:{Feature:mc},focus:{Feature:pc},hover:{Feature:dc}};function tr(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function be(e,t,n){const s=e.getProps();return Ln(s,t,n!==void 0?n:s.custom,e)}const it=e=>e*1e3,tt=e=>e/1e3,Pc={type:"spring",stiffness:500,damping:25,restSpeed:10},Ac=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Cc={type:"keyframes",duration:.8},Ec={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Rc=(e,{keyframes:t})=>t.length>2?Cc:yt.has(e)?e.startsWith("scale")?Ac(t[1]):Pc:Ec;function Vc({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:o,repeatType:r,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function On(e,t){return e[t]||e.default||e}const kc=e=>e!==null;function we(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(kc),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||s===void 0?i[o]:s}let re;function Dc(){re=void 0}const rt={now:()=>(re===void 0&&rt.set(O.isProcessing||Ta.useManualTiming?O.timestamp:performance.now()),re),set:e=>{re=e,queueMicrotask(Dc)}},er=e=>/^0[^.\s]+$/u.test(e);function Mc(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||er(e):!0}let Ze=j;const nr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Lc=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Oc(e){const t=Lc.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function sr(e,t,n=1){const[s,i]=Oc(e);if(!s)return;const o=window.getComputedStyle(t).getPropertyValue(s);if(o){const r=o.trim();return nr(r)?parseFloat(r):r}return Cn(i)?sr(i,t,n+1):i}const Bc=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ms=e=>e===Et||e===T,gs=(e,t)=>parseFloat(e.split(", ")[t]),ys=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/u);if(i)return gs(i[1],t);{const o=s.match(/^matrix\((.+)\)$/u);return o?gs(o[1],e):0}},Fc=new Set(["x","y","z"]),jc=Wt.filter(e=>!Fc.has(e));function _c(e){const t=[];return jc.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const At={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ys(4,13),y:ys(5,14)};At.translateX=At.x;At.translateY=At.y;const ir=e=>t=>t.test(e),Nc={test:e=>e==="auto",parse:e=>e},rr=[Et,T,G,nt,$a,qa,Nc],vs=e=>rr.find(ir(e)),gt=new Set;let Je=!1,Qe=!1;function or(){if(Qe){const e=Array.from(gt).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=_c(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([o,r])=>{var a;(a=s.getValue(o))===null||a===void 0||a.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Qe=!1,Je=!1,gt.forEach(e=>e.complete()),gt.clear()}function ar(){gt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qe=!0)})}function Ic(){ar(),or()}class Bn{constructor(t,n,s,i,o,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=o,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gt.add(this),Je||(Je=!0,E.read(ar),E.resolveKeyframes(or))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const r=i==null?void 0:i.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const c=s.readValue(n,a);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gt.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gt.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Fn=(e,t)=>n=>!!(qt(n)&&Wa.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),cr=(e,t,n)=>s=>{if(!qt(s))return s;const[i,o,r,a]=s.match(En);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(r),alpha:a!==void 0?parseFloat(a):1}},Uc=e=>at(0,255,e),Me={...Et,transform:e=>Math.round(Uc(e))},pt={test:Fn("rgb","red"),parse:cr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Me.transform(e)+", "+Me.transform(t)+", "+Me.transform(n)+", "+Lt(Mt.transform(s))+")"};function Kc(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const tn={test:Fn("#"),parse:Kc,transform:pt.transform},Tt={test:Fn("hsl","hue"),parse:cr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+G.transform(Lt(t))+", "+G.transform(Lt(n))+", "+Lt(Mt.transform(s))+")"},B={test:e=>pt.test(e)||tn.test(e)||Tt.test(e),parse:e=>pt.test(e)?pt.parse(e):Tt.test(e)?Tt.parse(e):tn.parse(e),transform:e=>qt(e)?e:e.hasOwnProperty("red")?pt.transform(e):Tt.transform(e)};function Wc(e){var t,n;return isNaN(e)&&qt(e)&&(((t=e.match(En))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ka))===null||n===void 0?void 0:n.length)||0)>0}const lr="number",ur="color",qc="var",$c="var(",xs="${}",Hc=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nt(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(Hc,c=>(B.test(c)?(s.color.push(o),i.push(ur),n.push(B.parse(c))):c.startsWith($c)?(s.var.push(o),i.push(qc),n.push(c)):(s.number.push(o),i.push(lr),n.push(parseFloat(c))),++o,xs)).split(xs);return{values:n,split:a,indexes:s,types:i}}function hr(e){return Nt(e).values}function fr(e){const{split:t,types:n}=Nt(e),s=t.length;return i=>{let o="";for(let r=0;r<s;r++)if(o+=t[r],i[r]!==void 0){const a=n[r];a===lr?o+=Lt(i[r]):a===ur?o+=B.transform(i[r]):o+=i[r]}return o}}const zc=e=>typeof e=="number"?0:e;function Gc(e){const t=hr(e);return fr(e)(t.map(zc))}const ct={test:Wc,parse:hr,createTransformer:fr,getAnimatableNone:Gc},Yc=new Set(["brightness","contrast","saturate","opacity"]);function Xc(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(En)||[];if(!s)return e;const i=n.replace(s,"");let o=Yc.has(t)?1:0;return s!==n&&(o*=100),t+"("+o+i+")"}const Zc=/\b([a-z-]*)\(.*?\)/gu,en={...ct,getAnimatableNone:e=>{const t=e.match(Zc);return t?t.map(Xc).join(" "):e}},Jc={...Ni,color:B,backgroundColor:B,outlineColor:B,fill:B,stroke:B,borderColor:B,borderTopColor:B,borderRightColor:B,borderBottomColor:B,borderLeftColor:B,filter:en,WebkitFilter:en},jn=e=>Jc[e];function dr(e,t){let n=jn(e);return n!==en&&(n=ct),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Qc=new Set(["auto","none","0"]);function tl(e,t,n){let s=0,i;for(;s<e.length&&!i;){const o=e[s];typeof o=="string"&&!Qc.has(o)&&Nt(o).values.length&&(i=e[s]),s++}if(i&&n)for(const o of t)e[o]=dr(n,i)}class pr extends Bn{constructor(t,n,s,i){super(t,n,s,i,i==null?void 0:i.owner,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let l=t[c];if(typeof l=="string"&&(l=l.trim(),Cn(l))){const u=sr(l,n.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!Bc.has(s)||t.length!==2)return;const[i,o]=t,r=vs(i),a=vs(o);if(r!==a)if(ms(r)&&ms(a))for(let c=0;c<t.length;c++){const l=t[c];typeof l=="string"&&(t[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)Mc(t[i])&&s.push(i);s.length&&tl(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=At[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:s,unresolvedKeyframes:i}=this;if(!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=At[s](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,l])=>{n.getValue(c).set(l)}),this.resolveNoneKeyframes()}}function mr(e){let t;return()=>(t===void 0&&(t=e()),t)}const bs=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ct.test(e)||e==="0")&&!e.startsWith("url("));function el(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function nl(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],r=bs(i,t),a=bs(o,t);return!r||!a?!1:el(e)||n==="spring"&&s}class gr{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:r="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:o,repeatType:r,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ic(),this._resolved}onKeyframesResolved(t,n){this.hasAttemptedResolve=!0;const{name:s,type:i,velocity:o,delay:r,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!nl(t,s,i,o))if(r)this.options.duration=0;else{c==null||c(we(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}function yr(e,t){return t?e*(1e3/t):0}const sl=5;function vr(e,t,n){const s=Math.max(t-sl,0);return yr(n-e(s),t-s)}const Le=.001,il=.01,rl=10,ol=.05,al=1;function cl({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let i,o,r=1-t;r=at(ol,al,r),e=at(il,rl,tt(e)),r<1?(i=l=>{const u=l*r,h=u*e,f=u-n,d=nn(l,r),m=Math.exp(-h);return Le-f/d*m},o=l=>{const h=l*r*e,f=h*n+n,d=Math.pow(r,2)*Math.pow(l,2)*e,m=Math.exp(-h),g=nn(Math.pow(l,2),r);return(-i(l)+Le>0?-1:1)*((f-d)*m)/g}):(i=l=>{const u=Math.exp(-l*e),h=(l-n)*e+1;return-Le+u*h},o=l=>{const u=Math.exp(-l*e),h=(n-l)*(e*e);return u*h});const a=5/e,c=ul(i,o,a);if(e=it(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const l=Math.pow(c,2)*s;return{stiffness:l,damping:r*2*Math.sqrt(s*l),duration:e}}}const ll=12;function ul(e,t,n){let s=n;for(let i=1;i<ll;i++)s=s-e(s)/t(s);return s}function nn(e,t){return e*Math.sqrt(1-t*t)}const hl=["duration","bounce"],fl=["stiffness","damping","mass"];function ws(e,t){return t.some(n=>e[n]!==void 0)}function dl(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!ws(e,fl)&&ws(e,hl)){const n=cl(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function xr({keyframes:e,restDelta:t,restSpeed:n,...s}){const i=e[0],o=e[e.length-1],r={done:!1,value:i},{stiffness:a,damping:c,mass:l,duration:u,velocity:h,isResolvedFromDuration:f}=dl({...s,velocity:-tt(s.velocity||0)}),d=h||0,m=c/(2*Math.sqrt(a*l)),g=o-i,b=tt(Math.sqrt(a/l)),w=Math.abs(g)<5;n||(n=w?.01:2),t||(t=w?.005:.5);let x;if(m<1){const v=nn(b,m);x=S=>{const C=Math.exp(-m*b*S);return o-C*((d+m*b*g)/v*Math.sin(v*S)+g*Math.cos(v*S))}}else if(m===1)x=v=>o-Math.exp(-b*v)*(g+(d+b*g)*v);else{const v=b*Math.sqrt(m*m-1);x=S=>{const C=Math.exp(-m*b*S),V=Math.min(v*S,300);return o-C*((d+m*b*g)*Math.sinh(V)+v*g*Math.cosh(V))/v}}return{calculatedDuration:f&&u||null,next:v=>{const S=x(v);if(f)r.done=v>=u;else{let C=d;v!==0&&(m<1?C=vr(x,v,S):C=0);const V=Math.abs(C)<=n,H=Math.abs(o-S)<=t;r.done=V&&H}return r.value=r.done?o:S,r}}}function Ts({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:r,min:a,max:c,restDelta:l=.5,restSpeed:u}){const h=e[0],f={done:!1,value:h},d=P=>a!==void 0&&P<a||c!==void 0&&P>c,m=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let g=n*t;const b=h+g,w=r===void 0?b:r(b);w!==b&&(g=w-h);const x=P=>-g*Math.exp(-P/s),v=P=>w+x(P),S=P=>{const L=x(P),_=v(P);f.done=Math.abs(L)<=l,f.value=f.done?w:_};let C,V;const H=P=>{d(f.value)&&(C=P,V=xr({keyframes:[f.value,m(f.value)],velocity:vr(v,P,f.value),damping:i,stiffness:o,restDelta:l,restSpeed:u}))};return H(0),{calculatedDuration:null,next:P=>{let L=!1;return!V&&C===void 0&&(L=!0,S(P),H(P)),C!==void 0&&P>=C?V.next(P-C):(!L&&S(P),f)}}}const br=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pl=1e-7,ml=12;function gl(e,t,n,s,i){let o,r,a=0;do r=t+(n-t)/2,o=br(r,s,i)-e,o>0?n=r:t=r;while(Math.abs(o)>pl&&++a<ml);return r}function Ht(e,t,n,s){if(e===t&&n===s)return j;const i=o=>gl(o,0,1,e,n);return o=>o===0||o===1?o:br(i(o),t,s)}const yl=Ht(.42,0,1,1),vl=Ht(0,0,.58,1),wr=Ht(.42,0,.58,1),xl=e=>Array.isArray(e)&&typeof e[0]!="number",Tr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Sr=e=>t=>1-e(1-t),_n=e=>1-Math.sin(Math.acos(e)),Pr=Sr(_n),bl=Tr(_n),Ar=Ht(.33,1.53,.69,.99),Nn=Sr(Ar),wl=Tr(Nn),Tl=e=>(e*=2)<1?.5*Nn(e):.5*(2-Math.pow(2,-10*(e-1))),Ss={linear:j,easeIn:yl,easeInOut:wr,easeOut:vl,circIn:_n,circInOut:bl,circOut:Pr,backIn:Nn,backInOut:wl,backOut:Ar,anticipate:Tl},Ps=e=>{if(Array.isArray(e)){Ze(e.length===4);const[t,n,s,i]=e;return Ht(t,n,s,i)}else if(typeof e=="string")return Ze(Ss[e]!==void 0),Ss[e];return e},It=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},R=(e,t,n)=>e+(t-e)*n;function Oe(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Sl({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,o=0,r=0;if(!t)i=o=r=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;i=Oe(c,a,e+1/3),o=Oe(c,a,e),r=Oe(c,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(r*255),alpha:s}}function le(e,t){return n=>n>0?t:e}const Be=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Pl=[tn,pt,Tt],Al=e=>Pl.find(t=>t.test(e));function As(e){const t=Al(e);if(!t)return!1;let n=t.parse(e);return t===Tt&&(n=Sl(n)),n}const Cs=(e,t)=>{const n=As(e),s=As(t);if(!n||!s)return le(e,t);const i={...n};return o=>(i.red=Be(n.red,s.red,o),i.green=Be(n.green,s.green,o),i.blue=Be(n.blue,s.blue,o),i.alpha=R(n.alpha,s.alpha,o),pt.transform(i))},sn=new Set(["none","hidden"]);function Cl(e,t){return sn.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function El(e,t){return n=>R(e,t,n)}function In(e){return typeof e=="number"?El:typeof e=="string"?Cn(e)?le:B.test(e)?Cs:kl:Array.isArray(e)?Cr:typeof e=="object"?B.test(e)?Cs:Rl:le}function Cr(e,t){const n=[...e],s=n.length,i=e.map((o,r)=>In(o)(o,t[r]));return o=>{for(let r=0;r<s;r++)n[r]=i[r](o);return n}}function Rl(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=In(e[i])(e[i],t[i]));return i=>{for(const o in s)n[o]=s[o](i);return n}}function Vl(e,t){var n;const s=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const r=t.types[o],a=e.indexes[r][i[r]],c=(n=e.values[a])!==null&&n!==void 0?n:0;s[o]=c,i[r]++}return s}const kl=(e,t)=>{const n=ct.createTransformer(t),s=Nt(e),i=Nt(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?sn.has(e)&&!i.values.length||sn.has(t)&&!s.values.length?Cl(e,t):Q(Cr(Vl(s,i),i.values),n):le(e,t)};function Er(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?R(e,t,n):In(e)(e,t)}function Dl(e,t,n){const s=[],i=n||Er,o=e.length-1;for(let r=0;r<o;r++){let a=i(e[r],e[r+1]);if(t){const c=Array.isArray(t)?t[r]||j:t;a=Q(c,a)}s.push(a)}return s}function Ml(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const o=e.length;if(Ze(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const r=Dl(t,s,i),a=r.length,c=l=>{let u=0;if(a>1)for(;u<e.length-2&&!(l<e[u+1]);u++);const h=It(e[u],e[u+1],l);return r[u](h)};return n?l=>c(at(e[0],e[o-1],l)):c}function Ll(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=It(0,t,s);e.push(R(n,1,i))}}function Ol(e){const t=[0];return Ll(t,e.length-1),t}function Bl(e,t){return e.map(n=>n*t)}function Fl(e,t){return e.map(()=>t||wr).splice(0,e.length-1)}function ue({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=xl(s)?s.map(Ps):Ps(s),o={done:!1,value:t[0]},r=Bl(n&&n.length===t.length?n:Ol(t),e),a=Ml(r,t,{ease:Array.isArray(i)?i:Fl(t,i)});return{calculatedDuration:e,next:c=>(o.value=a(c),o.done=c>=e,o)}}const Es=2e4;function jl(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Es;)t+=n,s=e.next(t);return t>=Es?1/0:t}const _l=e=>{const t=({timestamp:n})=>e(n);return{start:()=>E.update(t,!0),stop:()=>et(t),now:()=>O.isProcessing?O.timestamp:rt.now()}},Nl={decay:Ts,inertia:Ts,tween:ue,keyframes:ue,spring:xr},Il=e=>e/100;class Un extends gr{constructor({KeyframeResolver:t=Bn,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:s,motionValue:i,keyframes:o}=this.options,r=(a,c)=>this.onKeyframesResolved(a,c);s&&i&&i.owner?this.resolver=i.owner.resolveKeyframes(o,r,s,i):this.resolver=new t(o,r,s,i),this.resolver.scheduleResolve()}initPlayback(t){const{type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o,velocity:r=0}=this.options,a=Nl[n]||ue;let c,l;a!==ue&&typeof t[0]!="number"&&(c=Q(Il,Er(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});o==="mirror"&&(l=a({...this.options,keyframes:[...t].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=jl(u));const{calculatedDuration:h}=u,f=h+i,d=f*(s+1)-i;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:d}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:s}=this;if(!s){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:r,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:h}=s;if(this.startTime===null)return o.next(0);const{delay:f,repeat:d,repeatType:m,repeatDelay:g,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),x=this.speed>=0?w<0:w>u;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let v=this.currentTime,S=o;if(d){const P=Math.min(this.currentTime,u)/h;let L=Math.floor(P),_=P%1;!_&&P>=1&&(_=1),_===1&&L--,L=Math.min(L,d+1),!!(L%2)&&(m==="reverse"?(_=1-_,g&&(_-=g/h)):m==="mirror"&&(S=r)),v=at(0,1,_)*h}const C=x?{done:!1,value:c[0]}:S.next(v);a&&(C.value=a(C.value));let{done:V}=C;!x&&l!==null&&(V=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return H&&i!==void 0&&(C.value=we(c,this.options,i)),b&&b(C.value),H&&this.finish(),C}get duration(){const{resolved:t}=this;return t?tt(t.calculatedDuration):0}get time(){return tt(this.currentTime)}set time(t){t=it(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=tt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=_l,onPlay:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=s),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Rr=e=>Array.isArray(e)&&typeof e[0]=="number";function Vr(e){return!!(!e||typeof e=="string"&&e in Kn||Rr(e)||Array.isArray(e)&&e.every(Vr))}const Dt=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Kn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dt([0,.65,.55,1]),circOut:Dt([.55,0,1,.45]),backIn:Dt([.31,.01,.66,-.59]),backOut:Dt([.33,1.53,.69,.99])};function Ul(e){return kr(e)||Kn.easeOut}function kr(e){if(e)return Rr(e)?Dt(e):Array.isArray(e)?e.map(Ul):Kn[e]}function Kl(e,t,n,{delay:s=0,duration:i=300,repeat:o=0,repeatType:r="loop",ease:a,times:c}={}){const l={[t]:n};c&&(l.offset=c);const u=kr(a);return Array.isArray(u)&&(l.easing=u),e.animate(l,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:r==="reverse"?"alternate":"normal"})}const Wl=mr(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ql=new Set(["opacity","clipPath","filter","transform"]),he=10,$l=2e4;function Hl(e){return e.type==="spring"||e.name==="backgroundColor"||!Vr(e.ease)}function zl(e,t){const n=new Un({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:e[0]};const i=[];let o=0;for(;!s.done&&o<$l;)s=n.sample(o),i.push(s.value),o+=he;return{times:void 0,keyframes:i,duration:o-he,ease:"linear"}}class Rs extends gr{constructor(t){super(t);const{name:n,motionValue:s,keyframes:i}=this.options;this.resolver=new pr(i,(o,r)=>this.onKeyframesResolved(o,r),n,s),this.resolver.scheduleResolve()}initPlayback(t,n){var s;let{duration:i=300,times:o,ease:r,type:a,motionValue:c,name:l}=this.options;if(!(!((s=c.owner)===null||s===void 0)&&s.current))return!1;if(Hl(this.options)){const{onComplete:h,onUpdate:f,motionValue:d,...m}=this.options,g=zl(t,m);t=g.keyframes,t.length===1&&(t[1]=t[0]),i=g.duration,o=g.times,r=g.ease,a="keyframes"}const u=Kl(c.owner.current,l,t,{...this.options,duration:i,times:o,ease:r});return u.startTime=rt.now(),this.pendingTimeline?(u.timeline=this.pendingTimeline,this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:h}=this.options;c.set(we(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:i,times:o,type:a,ease:r,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return tt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return tt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=it(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return j;const{animation:s}=n;s.timeline=t,s.onfinish=null}return j}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:s,duration:i,type:o,ease:r,times:a}=t;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:c,onUpdate:l,onComplete:u,...h}=this.options,f=new Un({...h,keyframes:s,duration:i,type:o,ease:r,times:a,isGenerator:!0}),d=it(this.time);c.setWithVelocity(f.sample(d-he).value,f.sample(d).value,he)}this.cancel()}}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:s,repeatDelay:i,repeatType:o,damping:r,type:a}=t;return Wl()&&s&&ql.has(s)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&r!==0&&a!=="inertia"}}function Gl(e,t){let n;const s=()=>{const{currentTime:i}=t,r=(i===null?0:i.value)/100;n!==r&&e(r),n=r};return E.update(s,!0),()=>et(s)}const Yl=mr(()=>window.ScrollTimeline!==void 0);class Xl{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let s=0;s<this.animations.length;s++)this.animations[s][t]=n}attachTimeline(t){const n=this.animations.map(s=>{if(Yl()&&s.attachTimeline)s.attachTimeline(t);else return s.pause(),Gl(i=>{s.time=s.duration*i},t)});return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Wn=(e,t,n,s={},i,o)=>r=>{const a=On(s,e)||{},c=a.delay||s.delay||0;let{elapsed:l=0}=s;l=l-it(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-l,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{r(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};Vc(a)||(u={...u,...Rc(e,u)}),u.duration&&(u.duration=it(u.duration)),u.repeatDelay&&(u.repeatDelay=it(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),h&&!o&&t.get()!==void 0){const f=we(u.keyframes,a);if(f!==void 0)return E.update(()=>{u.onUpdate(f),u.onComplete()}),new Xl([])}return!o&&Rs.supports(u)?new Rs(u):new Un(u)};function fe(e){return!!(F(e)&&e.add)}function qn(e,t){e.indexOf(t)===-1&&e.push(t)}function $n(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Hn{constructor(){this.subscriptions=[]}add(t){return qn(this.subscriptions,t),()=>$n(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let o=0;o<i;o++){const r=this.subscriptions[o];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=30,Zl=e=>!isNaN(parseFloat(e));class Jl{constructor(t,n={}){this.version="11.2.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{const o=rt.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=rt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Zl(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hn);const s=this.events[t].add(n);return t==="change"?()=>{s(),E.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vs)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vs);return yr(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ut(e,t){return new Jl(e,t)}function Ql(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ut(n))}function tu(e,t){const n=be(e,t);let{transitionEnd:s={},transition:i={},...o}=n||{};o={...o,...s};for(const r in o){const a=rc(o[r]);Ql(e,r,a)}}function Dr(e){return e.getProps()[Mi]}function eu({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function Mr(e,t,{delay:n=0,transitionOverride:s,type:i}={}){var o;let{transition:r=e.getDefaultTransition(),transitionEnd:a,...c}=t;const l=e.getValue("willChange");s&&(r=s);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const d=e.getValue(f,(o=e.latestValues[f])!==null&&o!==void 0?o:null),m=c[f];if(m===void 0||h&&eu(h,f))continue;const g={delay:n,elapsed:0,...On(r||{},f)};let b=!1;if(window.HandoffAppearAnimations){const x=Dr(e);if(x){const v=window.HandoffAppearAnimations(x,f,d,E);v!==null&&(g.elapsed=v,b=!0)}}d.start(Wn(f,d,m,e.shouldReduceMotion&&yt.has(f)?{type:!1}:g,e,b));const w=d.animation;w&&(fe(l)&&(l.add(f),w.then(()=>l.remove(f))),u.push(w))}return a&&Promise.all(u).then(()=>{E.update(()=>{a&&tu(e,a)})}),u}function rn(e,t,n={}){var s;const i=be(e,t,n.type==="exit"?(s=e.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const r=i?()=>Promise.all(Mr(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=o;return nu(e,t,u+l,h,f,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[l,u]=c==="beforeChildren"?[r,a]:[a,r];return l().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function nu(e,t,n=0,s=0,i=1,o){const r=[],a=(e.variantChildren.size-1)*s,c=i===1?(l=0)=>l*s:(l=0)=>a-l*s;return Array.from(e.variantChildren).sort(su).forEach((l,u)=>{l.notify("AnimationStart",t),r.push(rn(l,t,{...o,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",t)))}),Promise.all(r)}function su(e,t){return e.sortNodePosition(t)}function iu(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(o=>rn(e,o,n));s=Promise.all(i)}else if(typeof t=="string")s=rn(e,t,n);else{const i=typeof t=="function"?be(e,t,n.custom):t;s=Promise.all(Mr(e,i,n))}return s.then(()=>{E.postRender(()=>{e.notify("AnimationComplete",t)})})}const ru=[...Tn].reverse(),ou=Tn.length;function au(e){return t=>Promise.all(t.map(({animation:n,options:s})=>iu(e,n,s)))}function cu(e){let t=au(e);const n=uu();let s=!0;const i=c=>(l,u)=>{var h;const f=be(e,u,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:m,...g}=f;l={...l,...g,...m}}return l};function o(c){t=c(e)}function r(c){const l=e.getProps(),u=e.getVariantContext(!0)||{},h=[],f=new Set;let d={},m=1/0;for(let b=0;b<ou;b++){const w=ru[b],x=n[w],v=l[w]!==void 0?l[w]:u[w],S=jt(v),C=w===c?x.isActive:null;C===!1&&(m=b);let V=v===u[w]&&v!==l[w]&&S;if(V&&s&&e.manuallyAnimateOnMount&&(V=!1),x.protectedKeys={...d},!x.isActive&&C===null||!v&&!x.prevProp||ye(v)||typeof v=="boolean")continue;let P=lu(x.prevProp,v)||w===c&&x.isActive&&!V&&S||b>m&&S,L=!1;const _=Array.isArray(v)?v:[v];let vt=_.reduce(i(w),{});C===!1&&(vt={});const{prevResolvedValues:zn={}}=x,to={...zn,...vt},Gn=N=>{P=!0,f.has(N)&&(L=!0,f.delete(N)),x.needsAnimating[N]=!0;const X=e.getValue(N);X&&(X.liveStyle=!1)};for(const N in to){const X=vt[N],Te=zn[N];if(d.hasOwnProperty(N))continue;let Se=!1;Ye(X)&&Ye(Te)?Se=!tr(X,Te):Se=X!==Te,Se?X!=null?Gn(N):f.add(N):X!==void 0&&f.has(N)?Gn(N):x.protectedKeys[N]=!0}x.prevProp=v,x.prevResolvedValues=vt,x.isActive&&(d={...d,...vt}),s&&e.blockInitialAnimation&&(P=!1),P&&(!V||L)&&h.push(..._.map(N=>({animation:N,options:{type:w}})))}if(f.size){const b={};f.forEach(w=>{const x=e.getBaseTarget(w),v=e.getValue(w);v&&(v.liveStyle=!0),b[w]=x??null}),h.push({animation:b})}let g=!!h.length;return s&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(h):Promise.resolve()}function a(c,l){var u;if(n[c].isActive===l)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(f=>{var d;return(d=f.animationState)===null||d===void 0?void 0:d.setActive(c,l)}),n[c].isActive=l;const h=r(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:r,setActive:a,setAnimateFunction:o,getState:()=>n}}function lu(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tr(t,e):!1}function ut(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uu(){return{animate:ut(!0),whileInView:ut(),whileHover:ut(),whileTap:ut(),whileDrag:ut(),whileFocus:ut(),exit:ut()}}class hu extends lt{constructor(t){super(t),t.animationState||(t.animationState=cu(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ye(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let fu=0;class du extends lt{constructor(){super(...arguments),this.id=fu++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const pu={animation:{Feature:hu},exit:{Feature:du}},ks=(e,t)=>Math.abs(e-t);function mu(e,t){const n=ks(e.x,t.x),s=ks(e.y,t.y);return Math.sqrt(n**2+s**2)}class Lr{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=je(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,d=mu(h.offset,{x:0,y:0})>=3;if(!f&&!d)return;const{point:m}=h,{timestamp:g}=O;this.history.push({...m,timestamp:g});const{onStart:b,onMove:w}=this.handlers;f||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fe(f,this.transformPagePoint),E.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=je(h.type==="pointercancel"?this.lastMoveEventInfo:Fe(f,this.transformPagePoint),this.history);this.startEvent&&d&&d(h,b),m&&m(h,b)},!Yi(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const r=xe(t),a=Fe(r,this.transformPagePoint),{point:c}=a,{timestamp:l}=O;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=n;u&&u(t,je(a,this.history)),this.removeListeners=Q(J(this.contextWindow,"pointermove",this.handlePointerMove),J(this.contextWindow,"pointerup",this.handlePointerUp),J(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),et(this.updatePoint)}}function Fe(e,t){return t?{point:t(e.point)}:e}function Ds(e,t){return{x:e.x-t.x,y:e.y-t.y}}function je({point:e},t){return{point:e,delta:Ds(e,Or(t)),offset:Ds(e,gu(t)),velocity:yu(t,.1)}}function gu(e){return e[0]}function Or(e){return e[e.length-1]}function yu(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=Or(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>it(t)));)n--;if(!s)return{x:0,y:0};const o=tt(i.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const r={x:(i.x-s.x)/o,y:(i.y-s.y)/o};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function U(e){return e.max-e.min}function on(e,t=0,n=.01){return Math.abs(e-t)<=n}function Ms(e,t,n,s=.5){e.origin=s,e.originPoint=R(t.min,t.max,e.origin),e.scale=U(n)/U(t),(on(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=R(n.min,n.max,e.origin)-e.originPoint,(on(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ot(e,t,n,s){Ms(e.x,t.x,n.x,s?s.originX:void 0),Ms(e.y,t.y,n.y,s?s.originY:void 0)}function Ls(e,t,n){e.min=n.min+t.min,e.max=e.min+U(t)}function vu(e,t,n){Ls(e.x,t.x,n.x),Ls(e.y,t.y,n.y)}function Os(e,t,n){e.min=t.min-n.min,e.max=e.min+U(t)}function Bt(e,t,n){Os(e.x,t.x,n.x),Os(e.y,t.y,n.y)}function xu(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?R(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?R(n,e,s.max):Math.min(e,n)),e}function Bs(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bu(e,{top:t,left:n,bottom:s,right:i}){return{x:Bs(e.x,n,i),y:Bs(e.y,t,s)}}function Fs(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function wu(e,t){return{x:Fs(e.x,t.x),y:Fs(e.y,t.y)}}function Tu(e,t){let n=.5;const s=U(e),i=U(t);return i>s?n=It(t.min,t.max-s,e.min):s>i&&(n=It(e.min,e.max-i,t.min)),at(0,1,n)}function Su(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const an=.35;function Pu(e=an){return e===!1?e=0:e===!0&&(e=an),{x:js(e,"left","right"),y:js(e,"top","bottom")}}function js(e,t,n){return{min:_s(e,t),max:_s(e,n)}}function _s(e,t){return typeof e=="number"?e:e[t]||0}const Ns=()=>({translate:0,scale:1,origin:0,originPoint:0}),St=()=>({x:Ns(),y:Ns()}),Is=()=>({min:0,max:0}),k=()=>({x:Is(),y:Is()});function W(e){return[e("x"),e("y")]}function Br({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function Au({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Cu(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function _e(e){return e===void 0||e===1}function cn({scale:e,scaleX:t,scaleY:n}){return!_e(e)||!_e(t)||!_e(n)}function ht(e){return cn(e)||Fr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Fr(e){return Us(e.x)||Us(e.y)}function Us(e){return e&&e!=="0%"}function de(e,t,n){const s=e-n,i=t*s;return n+i}function Ks(e,t,n,s,i){return i!==void 0&&(e=de(e,i,s)),de(e,n,s)+t}function ln(e,t=0,n=1,s,i){e.min=Ks(e.min,t,n,s,i),e.max=Ks(e.max,t,n,s,i)}function jr(e,{x:t,y:n}){ln(e.x,t.translate,t.scale,t.originPoint),ln(e.y,n.translate,n.scale,n.originPoint)}function Eu(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,r;for(let a=0;a<i;a++){o=n[a],r=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pt(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,jr(e,r)),s&&ht(o.latestValues)&&Pt(e,o.latestValues))}t.x=Ws(t.x),t.y=Ws(t.y)}function Ws(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function st(e,t){e.min=e.min+t,e.max=e.max+t}function qs(e,t,[n,s,i]){const o=t[i]!==void 0?t[i]:.5,r=R(e.min,e.max,o);ln(e,t[n],t[s],r,t.scale)}const Ru=["x","scaleX","originX"],Vu=["y","scaleY","originY"];function Pt(e,t){qs(e.x,t,Ru),qs(e.y,t,Vu)}function _r(e,t){return Br(Cu(e.getBoundingClientRect(),t))}function ku(e,t,n){const s=_r(e,n),{scroll:i}=t;return i&&(st(s.x,i.offset.x),st(s.y,i.offset.y)),s}const Nr=({current:e})=>e?e.ownerDocument.defaultView:null,Du=new WeakMap;class Mu{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=k(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xe(u,"page").point)},o=(u,h)=>{const{drag:f,dragPropagation:d,onDragStart:m}=this.getProps();if(f&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zi(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),W(b=>{let w=this.getAxisMotionValue(b).get()||0;if(G.test(w)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[b];v&&(w=U(v)*(parseFloat(w)/100))}}this.originPoint[b]=w}),m&&E.postRender(()=>m(u,h));const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},r=(u,h)=>{const{dragPropagation:f,dragDirectionLock:d,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:b}=h;if(d&&this.currentDirection===null){this.currentDirection=Lu(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),g&&g(u,h)},a=(u,h)=>this.stop(u,h),c=()=>W(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new Lr(t,{onSessionStart:i,onStart:o,onMove:r,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:Nr(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&E.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!te(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=xu(r,this.constraints[t],this.elastic[t])),o.set(r)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&wt(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=bu(i.layoutBox,n):this.constraints=!1,this.elastic=Pu(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&W(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=Su(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!wt(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=ku(s,i.root,this.visualElement.getTransformPagePoint());let r=wu(i.layout.layoutBox,o);if(n){const a=n(Au(r));this.hasMutatedConstraints=!!a,a&&(r=Br(a))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:o,dragSnapToOrigin:r,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=W(u=>{if(!te(u,n,this.currentDirection))return;let h=c&&c[u]||{};r&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(Wn(t,s,0,n,this.visualElement))}stopAnimation(){W(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){W(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){W(n=>{const{drag:s}=this.getProps();if(!te(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:a}=i.layout.layoutBox[n];o.set(t[n]-R(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!wt(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};W(r=>{const a=this.getAxisMotionValue(r);if(a&&this.constraints!==!1){const c=a.get();i[r]=Tu({min:c,max:c},this.constraints[r])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),W(r=>{if(!te(r,t,null))return;const a=this.getAxisMotionValue(r),{min:c,max:l}=this.constraints[r];a.set(R(c,l,i[r]))})}addListeners(){if(!this.visualElement.current)return;Du.set(this.visualElement,this);const t=this.visualElement.current,n=J(t,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();wt(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const r=Z(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(W(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{r(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:r=an,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:o,dragElastic:r,dragMomentum:a}}}function te(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Lu(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ou extends lt{constructor(t){super(t),this.removeGroupControls=j,this.removeListeners=j,this.controls=new Mu(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||j}unmount(){this.removeGroupControls(),this.removeListeners()}}const $s=e=>(t,n)=>{e&&E.postRender(()=>e(t,n))};class Bu extends lt{constructor(){super(...arguments),this.removePointerDownListener=j}onPointerDown(t){this.session=new Lr(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nr(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:$s(t),onStart:$s(n),onMove:s,onEnd:(o,r)=>{delete this.session,i&&E.postRender(()=>i(o,r))}}}mount(){this.removePointerDownListener=J(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Fu(){const e=p.useContext(ge);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,i=p.useId();return p.useEffect(()=>s(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const oe={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hs(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vt={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(T.test(e))e=parseFloat(e);else return e;const n=Hs(e,t.target.x),s=Hs(e,t.target.y);return`${n}% ${s}%`}},ju={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=ct.parse(e);if(i.length>5)return s;const o=ct.createTransformer(e),r=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;i[0+r]/=a,i[1+r]/=c;const l=R(a,c,.5);return typeof i[2+r]=="number"&&(i[2+r]/=l),typeof i[3+r]=="number"&&(i[3+r]/=l),o(i)}};class _u extends p.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:o}=t;Ba(Nu),o&&(n.group&&n.group.add(o),s&&s.register&&i&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),oe.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:o}=this.props,r=s.projection;return r&&(r.isPresent=o,i||t.layoutDependency!==n||n===void 0?r.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?r.promote():r.relegate()||E.postRender(()=>{const a=r.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wn.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ir(e){const[t,n]=Fu(),s=p.useContext(Pn);return y.jsx(_u,{...e,layoutGroup:s,switchLayoutGroup:p.useContext(Bi),isPresent:t,safeToRemove:n})}const Nu={borderRadius:{...Vt,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomLeftRadius:Vt,borderBottomRightRadius:Vt,boxShadow:ju},Ur=["TopLeft","TopRight","BottomLeft","BottomRight"],Iu=Ur.length,zs=e=>typeof e=="string"?parseFloat(e):e,Gs=e=>typeof e=="number"||T.test(e);function Uu(e,t,n,s,i,o){i?(e.opacity=R(0,n.opacity!==void 0?n.opacity:1,Ku(s)),e.opacityExit=R(t.opacity!==void 0?t.opacity:1,0,Wu(s))):o&&(e.opacity=R(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let r=0;r<Iu;r++){const a=`border${Ur[r]}Radius`;let c=Ys(t,a),l=Ys(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||Gs(c)===Gs(l)?(e[a]=Math.max(R(zs(c),zs(l),s),0),(G.test(l)||G.test(c))&&(e[a]+="%")):e[a]=l}(t.rotate||n.rotate)&&(e.rotate=R(t.rotate||0,n.rotate||0,s))}function Ys(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ku=Kr(0,.5,Pr),Wu=Kr(.5,.95,j);function Kr(e,t,n){return s=>s<e?0:s>t?1:n(It(e,t,s))}function Xs(e,t){e.min=t.min,e.max=t.max}function K(e,t){Xs(e.x,t.x),Xs(e.y,t.y)}function Zs(e,t,n,s,i){return e-=t,e=de(e,1/n,s),i!==void 0&&(e=de(e,1/i,s)),e}function qu(e,t=0,n=1,s=.5,i,o=e,r=e){if(G.test(t)&&(t=parseFloat(t),t=R(r.min,r.max,t/100)-r.min),typeof t!="number")return;let a=R(o.min,o.max,s);e===o&&(a-=t),e.min=Zs(e.min,t,n,a,i),e.max=Zs(e.max,t,n,a,i)}function Js(e,t,[n,s,i],o,r){qu(e,t[n],t[s],t[i],t.scale,o,r)}const $u=["x","scaleX","originX"],Hu=["y","scaleY","originY"];function Qs(e,t,n,s){Js(e.x,t,$u,n?n.x:void 0,s?s.x:void 0),Js(e.y,t,Hu,n?n.y:void 0,s?s.y:void 0)}function ti(e){return e.translate===0&&e.scale===1}function Wr(e){return ti(e.x)&&ti(e.y)}function zu(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function qr(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ei(e){return U(e.x)/U(e.y)}class Gu{constructor(){this.members=[]}add(t){qn(this.members,t),t.scheduleRender()}remove(t){if($n(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ni(e,t,n){let s="";const i=e.x.translate/t.x,o=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||o||r)&&(s=`translate3d(${i}px, ${o}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:h,rotateY:f,skewX:d,skewY:m}=n;l&&(s=`perspective(${l}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),d&&(s+=`skewX(${d}deg) `),m&&(s+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(s+=`scale(${a}, ${c})`),s||"none"}const Yu=(e,t)=>e.depth-t.depth;class Xu{constructor(){this.children=[],this.isDirty=!1}add(t){qn(this.children,t),this.isDirty=!0}remove(t){$n(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yu),this.isDirty=!1,this.children.forEach(t)}}function Zu(e,t){const n=rt.now(),s=({timestamp:i})=>{const o=i-n;o>=t&&(et(s),e(o-t))};return E.read(s,!0),()=>et(s)}function Ju(e){window.MotionDebug&&window.MotionDebug.record(e)}function Qu(e){return e instanceof SVGElement&&e.tagName!=="svg"}function th(e,t,n){const s=F(e)?e:Ut(e);return s.start(Wn("",s,t,n)),s.animation}const Ne=["","X","Y","Z"],eh={visibility:"hidden"},si=1e3;let nh=0;const ft={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ie(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function $r(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return!1;const{visualElement:t}=e.options;return t?Dr(t)?!0:e.parent&&!e.parent.hasCheckedOptimisedAppear?$r(e.parent):!1:!1}function Hr({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},a=t==null?void 0:t()){this.id=nh++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ft.totalNodes=ft.resolvedTargetDeltas=ft.recalculatedProjection=0,this.nodes.forEach(rh),this.nodes.forEach(uh),this.nodes.forEach(hh),this.nodes.forEach(oh),Ju(ft)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xu)}addEventListener(r,a){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new Hn),this.eventHandlers.get(r).add(a)}notifyListeners(r,...a){const c=this.eventHandlers.get(r);c&&c.notify(...a)}hasListeners(r){return this.eventHandlers.has(r)}mount(r,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Qu(r),this.instance=r;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(r,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Zu(f,250),oe.hasAnimatedSinceResize&&(oe.hasAnimatedSinceResize=!1,this.nodes.forEach(ri))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||gh,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),x=!this.targetLayout||!qr(this.targetLayout,m)||d,v=!f&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,v);const S={...On(g,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||ri(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,et(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fh),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&$r(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ii);return}this.isUpdating||this.nodes.forEach(ch),this.isUpdating=!1,this.nodes.forEach(lh),this.nodes.forEach(sh),this.nodes.forEach(ih),this.clearAllSnapshots();const a=rt.now();O.delta=at(0,1e3/60,a-O.timestamp),O.timestamp=a,O.isProcessing=!0,Ve.update.process(O),Ve.preRender.process(O),Ve.render.process(O),O.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wn.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ah),this.sharedNodes.forEach(dh)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,E.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){E.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=k(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:r,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Wr(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;r&&(a||ht(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return r&&(c=this.removeTransform(c)),yh(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:r}=this.options;if(!r)return k();const a=r.measureViewportBox(),{scroll:c}=this.root;return c&&(st(a.x,c.offset.x),st(a.y,c.offset.y)),a}removeElementScroll(r){const a=k();K(a,r);for(let c=0;c<this.path.length;c++){const l=this.path[c],{scroll:u,options:h}=l;if(l!==this.root&&u&&h.layoutScroll){if(u.isRoot){K(a,r);const{scroll:f}=this.root;f&&(st(a.x,-f.offset.x),st(a.y,-f.offset.y))}st(a.x,u.offset.x),st(a.y,u.offset.y)}}return a}applyTransform(r,a=!1){const c=k();K(c,r);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pt(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ht(u.latestValues)&&Pt(c,u.latestValues)}return ht(this.latestValues)&&Pt(c,this.latestValues),c}removeTransform(r){const a=k();K(a,r);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!ht(l.latestValues))continue;cn(l.latestValues)&&l.updateSnapshot();const u=k(),h=l.measurePageBox();K(u,h),Qs(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return ht(this.latestValues)&&Qs(a,this.latestValues),a}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==O.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(r||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=O.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=k(),this.relativeTargetOrigin=k(),Bt(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),K(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=k(),this.targetWithTransforms=k()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vu(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):K(this.target,this.layout.layoutBox),jr(this.target,this.targetDelta)):K(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=k(),this.relativeTargetOrigin=k(),Bt(this.relativeTargetOrigin,this.target,d.target),K(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ft.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||cn(this.parent.latestValues)||Fr(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var r;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((r=this.parent)===null||r===void 0)&&r.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===O.timestamp&&(l=!1),l)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;K(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;Eu(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=k());const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=St(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=St(),this.projectionDeltaWithTransform=St());const g=this.projectionTransform;Ot(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=ni(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ft.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),r){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(r,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},h=St();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=k(),d=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=d!==m,b=this.getStack(),w=!b||b.members.length<=1,x=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(mh));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const C=S/1e3;oi(h.x,r.x,C),oi(h.y,r.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bt(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ph(this.relativeTarget,this.relativeTargetOrigin,f,C),v&&zu(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=k()),K(v,this.relativeTarget)),g&&(this.animationValues=u,Uu(u,l,this.latestValues,C,x,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(et(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=E.update(()=>{oe.hasAnimatedSinceResize=!0,this.currentAnimation=th(0,si,{...r,onUpdate:a=>{this.mixTargetDelta(a),r.onUpdate&&r.onUpdate(a)},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(si),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=r;if(!(!a||!c||!l)){if(this!==r&&this.layout&&l&&zr(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||k();const h=U(this.layout.layoutBox.x);c.x.min=r.target.x.min,c.x.max=c.x.min+h;const f=U(this.layout.layoutBox.y);c.y.min=r.target.y.min,c.y.max=c.y.min+f}K(a,c),Pt(a,u),Ot(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(r,a){this.sharedNodes.has(r)||this.sharedNodes.set(r,new Gu),this.sharedNodes.get(r).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var r;const{layoutId:a}=this.options;return a?((r=this.getStack())===null||r===void 0?void 0:r.lead)||this:this}getPrevLead(){var r;const{layoutId:a}=this.options;return a?(r=this.getStack())===null||r===void 0?void 0:r.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),r&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let a=!1;const{latestValues:c}=r;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&Ie("z",r,l,this.animationValues);for(let u=0;u<Ne.length;u++)Ie(`rotate${Ne[u]}`,r,l,this.animationValues),Ie(`skew${Ne[u]}`,r,l,this.animationValues);r.render();for(const u in l)r.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);r.scheduleRender()}getProjectionStyles(r){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eh;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ie(r==null?void 0:r.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=ie(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!ht(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=ni(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:d,y:m}=this.projectionDelta;l.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,h.animationValues?l.opacity=h===this?(c=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in ae){if(f[g]===void 0)continue;const{correct:b,applyTo:w}=ae[g],x=l.transform==="none"?f[g]:b(f[g],h);if(w){const v=w.length;for(let S=0;S<v;S++)l[w[S]]=x}else l[g]=x}return this.options.layoutId&&(l.pointerEvents=h===this?ie(r==null?void 0:r.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var a;return(a=r.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ii),this.root.sharedNodes.clear()}}}function sh(e){e.updateLayout()}function ih(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:o}=e.options,r=n.source!==e.layout.source;o==="size"?W(h=>{const f=r?n.measuredBox[h]:n.layoutBox[h],d=U(f);f.min=s[h].min,f.max=f.min+d}):zr(o,n.layoutBox,s)&&W(h=>{const f=r?n.measuredBox[h]:n.layoutBox[h],d=U(s[h]);f.max=f.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+d)});const a=St();Ot(a,s,n.layoutBox);const c=St();r?Ot(c,e.applyTransform(i,!0),n.measuredBox):Ot(c,s,n.layoutBox);const l=!Wr(a);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:d}=h;if(f&&d){const m=k();Bt(m,n.layoutBox,f.layoutBox);const g=k();Bt(g,s,d.layoutBox),qr(m,g)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function rh(e){ft.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oh(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ah(e){e.clearSnapshot()}function ii(e){e.clearMeasurements()}function ch(e){e.isLayoutDirty=!1}function lh(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ri(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uh(e){e.resolveTargetDelta()}function hh(e){e.calcProjection()}function fh(e){e.resetSkewAndRotation()}function dh(e){e.removeLeadSnapshot()}function oi(e,t,n){e.translate=R(t.translate,0,n),e.scale=R(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ai(e,t,n,s){e.min=R(t.min,n.min,s),e.max=R(t.max,n.max,s)}function ph(e,t,n,s){ai(e.x,t.x,n.x,s),ai(e.y,t.y,n.y,s)}function mh(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const gh={duration:.45,ease:[.4,0,.1,1]},ci=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),li=ci("applewebkit/")&&!ci("chrome/")?Math.round:j;function ui(e){e.min=li(e.min),e.max=li(e.max)}function yh(e){ui(e.x),ui(e.y)}function zr(e,t,n){return e==="position"||e==="preserve-aspect"&&!on(ei(t),ei(n),.2)}const vh=Hr({attachResizeListener:(e,t)=>Z(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ue={current:void 0},Gr=Hr({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ue.current){const e=new vh({});e.mount(window),e.setOptions({layoutScroll:!0}),Ue.current=e}return Ue.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),xh={pan:{Feature:Bu},drag:{Feature:Ou,ProjectionNode:Gr,MeasureLayout:Ir}},un={current:null},Yr={current:!1};function bh(){if(Yr.current=!0,!!vn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>un.current=e.matches;e.addListener(t),t()}else un.current=!1}function wh(e,t,n){const{willChange:s}=t;for(const i in t){const o=t[i],r=n[i];if(F(o))e.addValue(i,o),fe(s)&&s.add(i);else if(F(r))e.addValue(i,Ut(o,{owner:e})),fe(s)&&s.remove(i);else if(r!==o)if(e.hasValue(i)){const a=e.getValue(i);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=e.getStaticValue(i);e.addValue(i,Ut(a!==void 0?a:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const hi=new WeakMap,Th=[...rr,B,ct],Sh=e=>Th.find(ir(e)),Xr=Object.keys(_t),Ph=Xr.length,fi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ah=Sn.length;function Zr(e){if(e)return e.options.allowProjection!==!1?e.projection:Zr(e.parent)}class Ch{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:o,visualState:r},a={}){this.resolveKeyframes=(f,d,m,g)=>new this.KeyframeResolver(f,d,m,g,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>E.render(this.render,!1,!0);const{latestValues:c,renderState:l}=r;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=ve(n),this.isVariantNode=Oi(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const d=h[f];c[f]!==void 0&&F(d)&&(d.set(c[f],!1),fe(u)&&u.add(f))}}mount(t){this.current=t,hi.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Yr.current||bh(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:un.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){var t;hi.delete(this.current),this.projection&&this.projection.unmount(),et(this.notifyUpdate),et(this.render),this.valueSubscriptions.forEach(n=>n()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features)(t=this.features[n])===null||t===void 0||t.unmount();this.current=null}bindToMotionValue(t,n){const s=yt.has(t),i=n.on("change",r=>{this.latestValues[t]=r,this.props.onUpdate&&E.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,i,o){let r,a;for(let c=0;c<Ph;c++){const l=Xr[c],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:d}=_t[l];f&&(r=f),u(n)&&(!this.features[l]&&h&&(this.features[l]=new h(this)),d&&(a=d))}if((this.type==="html"||this.type==="svg")&&!this.projection&&r){const{layoutId:c,layout:l,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d}=n;this.projection=new r(this.latestValues,n["data-framer-portal-id"]?void 0:Zr(this.parent)),this.projection.setOptions({layoutId:c,layout:l,alwaysMeasureLayout:!!u||h&&wt(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:o,layoutScroll:f,layoutRoot:d})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):k()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<fi.length;s++){const i=fi[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,r=t[o];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=wh(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<Ah;s++){const i=Sn[s],o=this.props[i];(jt(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ut(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){var s;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(nr(i)||er(i))?i=parseFloat(i):!Sh(i)&&ct.test(n)&&(i=dr(t,n)),this.setBaseTarget(t,F(i)?i.get():i)),F(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const r=Ln(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);r&&(i=r[t])}if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!F(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hn),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Jr extends Ch{constructor(){super(...arguments),this.KeyframeResolver=pr}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}}function Eh(e){return window.getComputedStyle(e)}class Rh extends Jr{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(yt.has(n)){const s=jn(n);return s&&s.default||0}else{const s=Eh(t),i=(_i(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return _r(t,n)}build(t,n,s,i){Rn(t,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Mn(t,n,s)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;F(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,i){Wi(t,n,s,i)}}class Vh extends Jr{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yt.has(n)){const s=jn(n);return s&&s.default||0}return n=qi.has(n)?n:bn(n),t.getAttribute(n)}measureInstanceViewportBox(){return k()}scrapeMotionValuesFromProps(t,n,s){return Hi(t,n,s)}build(t,n,s,i){kn(t,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,s,i){$i(t,n,s,i)}mount(t){this.isSVGTag=Dn(t.tagName),super.mount(t)}}const kh=(e,t)=>An(e)?new Vh(t,{enableHardwareAcceleration:!1}):new Rh(t,{allowProjection:e!==p.Fragment,enableHardwareAcceleration:!0}),Dh={layout:{ProjectionNode:Gr,MeasureLayout:Ir}},Mh={...pu,...Sc,...xh,...Dh},Lh=La((e,t)=>uc(e,t,Mh,kh));function Qr(){const e=p.useRef(!1);return xn(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Oh(){const e=Qr(),[t,n]=p.useState(0),s=p.useCallback(()=>{e.current&&n(t+1)},[t]);return[p.useCallback(()=>E.postRender(s),[s]),t]}class Bh extends p.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Fh({children:e,isPresent:t}){const n=p.useId(),s=p.useRef(null),i=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(yn);return p.useInsertionEffect(()=>{const{width:r,height:a,top:c,left:l}=i.current;if(t||!s.current||!r||!a)return;s.current.dataset.motionPopId=n;const u=document.createElement("style");return o&&(u.nonce=o),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),y.jsx(Bh,{isPresent:t,childRef:s,sizeRef:i,children:p.cloneElement(e,{ref:s})})}const Ke=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:o,mode:r})=>{const a=zi(jh),c=p.useId(),l=p.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const h of a.values())if(!h)return;s&&s()},register:u=>(a.set(u,!1),()=>a.delete(u))}),o?[Math.random()]:[n]);return p.useMemo(()=>{a.forEach((u,h)=>a.set(h,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&s&&s()},[n]),r==="popLayout"&&(e=y.jsx(Fh,{isPresent:n,children:e})),y.jsx(ge.Provider,{value:l,children:e})};function jh(){return new Map}function _h(e){return p.useEffect(()=>()=>e(),[])}const dt=e=>e.key||"";function Nh(e,t){e.forEach(n=>{const s=dt(n);t.set(s,n)})}function Ih(e){const t=[];return p.Children.forEach(e,n=>{p.isValidElement(n)&&t.push(n)}),t}const Uh=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:r="sync"})=>{const a=p.useContext(Pn).forceRender||Oh()[0],c=Qr(),l=Ih(e);let u=l;const h=p.useRef(new Map).current,f=p.useRef(u),d=p.useRef(new Map).current,m=p.useRef(!0);if(xn(()=>{m.current=!1,Nh(l,d),f.current=u}),_h(()=>{m.current=!0,d.clear(),h.clear()}),m.current)return y.jsx(y.Fragment,{children:u.map(x=>y.jsx(Ke,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:r,children:x},dt(x)))});u=[...u];const g=f.current.map(dt),b=l.map(dt),w=g.length;for(let x=0;x<w;x++){const v=g[x];b.indexOf(v)===-1&&!h.has(v)&&h.set(v,void 0)}return r==="wait"&&h.size&&(u=[]),h.forEach((x,v)=>{if(b.indexOf(v)!==-1)return;const S=d.get(v);if(!S)return;const C=g.indexOf(v);let V=x;if(!V){const H=()=>{h.delete(v);const P=Array.from(d.keys()).filter(L=>!b.includes(L));if(P.forEach(L=>d.delete(L)),f.current=l.filter(L=>{const _=dt(L);return _===v||P.includes(_)}),!h.size){if(c.current===!1)return;a(),s&&s()}};V=y.jsx(Ke,{isPresent:!1,onExitComplete:H,custom:t,presenceAffectsLayout:o,mode:r,children:S},dt(S)),h.set(v,V)}u.splice(C,0,V)}),u=u.map(x=>{const v=x.key;return h.has(v)?x:y.jsx(Ke,{isPresent:!0,presenceAffectsLayout:o,mode:r,children:x},dt(x))}),y.jsx(y.Fragment,{children:h.size?u:u.map(x=>p.cloneElement(x))})};p.forwardRef(function({show:t,className:n,children:s,onClose:i},o){const r=p.useRef();return p.useImperativeHandle(o,()=>({open:()=>{r.current.showModal()},close:()=>{r.current.close()}}),[]),so.createPortal(y.jsx(Uh,{children:t&&y.jsx(Lh.dialog,{ref:r,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},id:"modal",className:`rounded-3xl bg-white p-6 ${n}`,children:s})}),document.getElementById("modal-part"))});function zh(){const e=Kt(),{remoteStream:t}=ot(n=>n.media.flag);return p.useEffect(()=>{Kh(e),Wh(e)},[]),y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"room h-full bg-gray-800 text-white flex flex-col overflow-hidden",children:[y.jsx(fa,{}),y.jsx(ha,{}),t&&y.jsx(xa,{})]}),y.jsx(ba,{})]})}async function Kh(e){const t=await navigator.mediaDevices.getUserMedia({video:{height:960,width:720},audio:!0}),n=new MediaStream;Ft("local",t),Ft("remote",n),e(mt({key:"localStream",value:!0}))}function Wh(e){const t=new RTCPeerConnection({iceServers:[{urls:["stun:stunserver.org","stun:stun.voiparound.com","stun:stun.voipbuster.com","stun:stun.voipstunt.com","stun:stun.voxgratia.org"]}]});mi(t),e(mt({key:"peerConnection",value:!0}))}export{zh as default};
